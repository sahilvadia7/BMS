spring.application.name=api-gateway
server.port=8080

eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.instance.prefer-ip-address=true
spring.output.ansi.enabled=ALWAYS
spring.jmx.enabled=false

spring.cloud.gateway.server.webmvc.discovery.locator.enabled=true
spring.cloud.gateway.server.webmvc.discovery.locator.lower-case-service-id=true

# AUTH SERVICE [0]
spring.cloud.gateway.server.webmvc.routes[0].id=auth-service
spring.cloud.gateway.server.webmvc.routes[0].uri=http://localhost:8081
spring.cloud.gateway.server.webmvc.routes[0].predicates[0]=Path=/api/v1/auth/**

# CUSTOMER SERVICE [1]
spring.cloud.gateway.server.webmvc.routes[1].id=customer-service
spring.cloud.gateway.server.webmvc.routes[1].uri=http://localhost:8082
spring.cloud.gateway.server.webmvc.routes[1].predicates[0]=Path=/api/v1/customers/**

# CUSTOMER SERVICE - KYC [2]
spring.cloud.gateway.server.webmvc.routes[2].id=customer-service-kyc
spring.cloud.gateway.server.webmvc.routes[2].uri=http://localhost:8082
spring.cloud.gateway.server.webmvc.routes[2].predicates[0]=Path=/api/v1/kyc/**

# CUSTOMER SERVICE - FORGOT PASSWORD [3]
spring.cloud.gateway.server.webmvc.routes[3].id=customer-service-forgetpassword
spring.cloud.gateway.server.webmvc.routes[3].uri=http://localhost:8082
spring.cloud.gateway.server.webmvc.routes[3].predicates[0]=Path=/api/v1/forgot-password/**

# BRANCH SERVICE [4]
spring.cloud.gateway.server.webmvc.routes[4].id=branch-service
spring.cloud.gateway.server.webmvc.routes[4].uri=http://localhost:8083
spring.cloud.gateway.server.webmvc.routes[4].predicates[0]=Path=/api/v1/branches/**

# ACCOUNT SERVICE [5]
spring.cloud.gateway.server.webmvc.routes[5].id=account-service
spring.cloud.gateway.server.webmvc.routes[5].uri=http://localhost:8084
spring.cloud.gateway.server.webmvc.routes[5].predicates[0]=Path=/api/v1/accounts/**

# TRANSACTION SERVICE [6]
spring.cloud.gateway.server.webmvc.routes[6].id=transaction-service
spring.cloud.gateway.server.webmvc.routes[6].uri=http://localhost:8085
spring.cloud.gateway.server.webmvc.routes[6].predicates[0]=Path=/api/v1/transactions/**

# LOAN SERVICE [7]
spring.cloud.gateway.server.webmvc.routes[7].id=loan-service
spring.cloud.gateway.server.webmvc.routes[7].uri=http://localhost:8086
spring.cloud.gateway.server.webmvc.routes[7].predicates[0]=Path=/api/v1/loans/**

# LOAN SERVICE - DOCUMENTS [8]
spring.cloud.gateway.server.webmvc.routes[8].id=loan-documents-service
spring.cloud.gateway.server.webmvc.routes[8].uri=http://localhost:8086
spring.cloud.gateway.server.webmvc.routes[8].predicates[0]=Path=/api/v1/loan-documents/**

# CARD SERVICE [9]
spring.cloud.gateway.server.webmvc.routes[9].id=card-service
spring.cloud.gateway.server.webmvc.routes[9].uri=http://localhost:8087
spring.cloud.gateway.server.webmvc.routes[9].predicates[0]=Path=/api/v1/cards/**

# PAYMENT GATEWAY [10]
spring.cloud.gateway.server.webmvc.routes[10].id=payment-gateway
spring.cloud.gateway.server.webmvc.routes[10].uri=http://localhost:8088
spring.cloud.gateway.server.webmvc.routes[10].predicates[0]=Path=/api/v1/payments/**

# NOTIFICATION SERVICE [11]
spring.cloud.gateway.server.webmvc.routes[11].id=notification-service
spring.cloud.gateway.server.webmvc.routes[11].uri=http://localhost:8089
spring.cloud.gateway.server.webmvc.routes[11].predicates[0]=Path=/api/v1/notifications/**

# CREDIT SCORE SERVICE [12]
spring.cloud.gateway.server.webmvc.routes[12].id=credit-score-service
spring.cloud.gateway.server.webmvc.routes[12].uri=http://localhost:8090
spring.cloud.gateway.server.webmvc.routes[12].predicates[0]=Path=/api/v1/credit-score/**

# REPORT SERVICE [13]
spring.cloud.gateway.server.webmvc.routes[13].id=report-service
spring.cloud.gateway.server.webmvc.routes[13].uri=http://localhost:8091
spring.cloud.gateway.server.webmvc.routes[13].predicates[0]=Path=/api/v1/reports/**

# LEDGER SERVICE [14]
spring.cloud.gateway.server.webmvc.routes[14].id=ledger-service
spring.cloud.gateway.server.webmvc.routes[14].uri=http://localhost:8092
spring.cloud.gateway.server.webmvc.routes[14].predicates[0]=Path=/api/v1/ledgers/**

# Swagger Configuration
springdoc.swagger-ui.use-root-path=true
springdoc.swagger-ui.urls[0].name=Auth Service
springdoc.swagger-ui.urls[0].url=/auth-docs
springdoc.swagger-ui.urls[1].name=Customer Service
springdoc.swagger-ui.urls[1].url=/customer-docs
springdoc.swagger-ui.urls[2].name=Branch Service
springdoc.swagger-ui.urls[2].url=/branch-docs
springdoc.swagger-ui.urls[3].name=Account Service
springdoc.swagger-ui.urls[3].url=/account-docs
springdoc.swagger-ui.urls[4].name=Transaction Service
springdoc.swagger-ui.urls[4].url=/transaction-docs
springdoc.swagger-ui.urls[5].name=Loan Service
springdoc.swagger-ui.urls[5].url=/loan-docs
springdoc.swagger-ui.urls[6].name=Card Service
springdoc.swagger-ui.urls[6].url=/card-docs
springdoc.swagger-ui.urls[7].name=Payment Gateway
springdoc.swagger-ui.urls[7].url=/payment-docs
springdoc.swagger-ui.urls[8].name=Notification Service
springdoc.swagger-ui.urls[8].url=/notification-docs
springdoc.swagger-ui.urls[9].name=Credit Score Service
springdoc.swagger-ui.urls[9].url=/credit-score-docs
springdoc.swagger-ui.urls[10].name=Report Service
springdoc.swagger-ui.urls[10].url=/report-docs
springdoc.swagger-ui.urls[11].name=Ledger Service
springdoc.swagger-ui.urls[11].url=/ledger-docs

# API Docs Routes (for Swagger UI to fetch through Gateway)
spring.cloud.gateway.server.webmvc.routes[15].id=auth-docs
spring.cloud.gateway.server.webmvc.routes[15].uri=http://localhost:8081
spring.cloud.gateway.server.webmvc.routes[15].predicates[0]=Path=/auth-docs
spring.cloud.gateway.server.webmvc.routes[15].filters[0]=RewritePath=/auth-docs,/v3/api-docs

spring.cloud.gateway.server.webmvc.routes[16].id=customer-docs
spring.cloud.gateway.server.webmvc.routes[16].uri=http://localhost:8082
spring.cloud.gateway.server.webmvc.routes[16].predicates[0]=Path=/customer-docs
spring.cloud.gateway.server.webmvc.routes[16].filters[0]=RewritePath=/customer-docs,/v3/api-docs

spring.cloud.gateway.server.webmvc.routes[17].id=branch-docs
spring.cloud.gateway.server.webmvc.routes[17].uri=http://localhost:8083
spring.cloud.gateway.server.webmvc.routes[17].predicates[0]=Path=/branch-docs
spring.cloud.gateway.server.webmvc.routes[17].filters[0]=RewritePath=/branch-docs,/v3/api-docs

spring.cloud.gateway.server.webmvc.routes[18].id=account-docs
spring.cloud.gateway.server.webmvc.routes[18].uri=http://localhost:8084
spring.cloud.gateway.server.webmvc.routes[18].predicates[0]=Path=/account-docs
spring.cloud.gateway.server.webmvc.routes[18].filters[0]=RewritePath=/account-docs,/v3/api-docs

spring.cloud.gateway.server.webmvc.routes[19].id=transaction-docs
spring.cloud.gateway.server.webmvc.routes[19].uri=http://localhost:8085
spring.cloud.gateway.server.webmvc.routes[19].predicates[0]=Path=/transaction-docs
spring.cloud.gateway.server.webmvc.routes[19].filters[0]=RewritePath=/transaction-docs,/v3/api-docs

spring.cloud.gateway.server.webmvc.routes[20].id=loan-docs
spring.cloud.gateway.server.webmvc.routes[20].uri=http://localhost:8086
spring.cloud.gateway.server.webmvc.routes[20].predicates[0]=Path=/loan-docs
spring.cloud.gateway.server.webmvc.routes[20].filters[0]=RewritePath=/loan-docs,/v3/api-docs

spring.cloud.gateway.server.webmvc.routes[21].id=card-docs
spring.cloud.gateway.server.webmvc.routes[21].uri=http://localhost:8087
spring.cloud.gateway.server.webmvc.routes[21].predicates[0]=Path=/card-docs
spring.cloud.gateway.server.webmvc.routes[21].filters[0]=RewritePath=/card-docs,/v3/api-docs

spring.cloud.gateway.server.webmvc.routes[22].id=payment-docs
spring.cloud.gateway.server.webmvc.routes[22].uri=http://localhost:8088
spring.cloud.gateway.server.webmvc.routes[22].predicates[0]=Path=/payment-docs
spring.cloud.gateway.server.webmvc.routes[22].filters[0]=RewritePath=/payment-docs,/v3/api-docs

spring.cloud.gateway.server.webmvc.routes[23].id=notification-docs
spring.cloud.gateway.server.webmvc.routes[23].uri=http://localhost:8089
spring.cloud.gateway.server.webmvc.routes[23].predicates[0]=Path=/notification-docs
spring.cloud.gateway.server.webmvc.routes[23].filters[0]=RewritePath=/notification-docs,/v3/api-docs

spring.cloud.gateway.server.webmvc.routes[24].id=credit-score-docs
spring.cloud.gateway.server.webmvc.routes[24].uri=http://localhost:8090
spring.cloud.gateway.server.webmvc.routes[24].predicates[0]=Path=/credit-score-docs
spring.cloud.gateway.server.webmvc.routes[24].filters[0]=RewritePath=/credit-score-docs,/v3/api-docs

spring.cloud.gateway.server.webmvc.routes[25].id=report-docs
spring.cloud.gateway.server.webmvc.routes[25].uri=http://localhost:8091
spring.cloud.gateway.server.webmvc.routes[25].predicates[0]=Path=/report-docs
spring.cloud.gateway.server.webmvc.routes[25].filters[0]=RewritePath=/report-docs,/v3/api-docs

spring.cloud.gateway.server.webmvc.routes[26].id=ledger-docs
spring.cloud.gateway.server.webmvc.routes[26].uri=http://localhost:8092
spring.cloud.gateway.server.webmvc.routes[26].predicates[0]=Path=/ledger-docs
spring.cloud.gateway.server.webmvc.routes[26].filters[0]=RewritePath=/ledger-docs,/v3/api-docs

spring.cloud.gateway.server.webmvc.routes[27].id=payment-gateway-refund
spring.cloud.gateway.server.webmvc.routes[27].uri=http://localhost:8088
spring.cloud.gateway.server.webmvc.routes[27].predicates[0]=Path=/api/v1/refunds/**

spring.cloud.gateway.server.webmvc.routes[28].id=payment-gateway-webhook
spring.cloud.gateway.server.webmvc.routes[28].uri=http://localhost:8088
spring.cloud.gateway.server.webmvc.routes[28].predicates[0]=Path=/api/v1/webhooks/**

logging.level.org.springframework.cloud.gateway=DEBUG

spring.cloud.gateway.httpclient.connect-timeout=5000
spring.cloud.gateway.httpclient.response-timeout=10s
spring.cloud.gateway.httpclient.pool.max-idle-time=5s
spring.cloud.gateway.httpclient.pool.max-life-time=30s